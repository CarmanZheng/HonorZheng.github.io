---
title: 网络编程
layout: post
tags: 网络通信
categories: ''
---

## 网络编程【SOCKET通信】

#### 1.1 概述

**计算机网络：**

计算机网络系统就是利用通信设备和线路将==地理位置不同==、功能独立的==多个计算机==系统互联起来，以功能完善的[网络软件](https://baike.baidu.com/item/网络软件/708424)实现网络中资源共享和信息传递的系统。通过计算机的互联，实现计算机之间的通信，从而实现计算机系统之间的信息、软件和设备资源的共享以及协同工作等功能，其本质特征在于提供计算机之间的==各类资源的高度共享==，实现便捷地交流信息和交换思想。

**网路编程的目的：**

传播交流信息

**想要达到的这个效果需要什么：**

1. 如何准确的定位网络上的一台主机 ，如ip 192.168.4.24:端口，定位到这个计算机上的某个资源

2. 找到了这个主机，如何传输数据？

   TCP/IP 网络传输

#### 1.2 网络通信的要素

如何实现网络的通信？

- 通信双方的地址： ip号：端口号，如 192.168.4.24:5000
- 规则：网络通信协议【TCP/IP参考模型】

<img src="..\_posts\images\image-20210629163937721.png" alt="image-20210629163937721" style="zoom: 67%;" />

小结：

1. 网络编程中有两个主要的问题
   * 如何准备的定位到网络上的一台或者多台主机
   * 找到 主机之后如何进行通信
2. 网络编程中的要素
   * IP和端口号
   * 网络通信协议
3. 万物皆对象

#### 1.3 IP 地址

* 唯一定位一台网络上的计算机

* 127.0.0.1 为本机localhost

* ip分类：

  *  IPv4/IPv6
    * ==IPv4== 127.0.0.1 ，4个字节，组成0~255，供约42亿
    * ==IPv6==  fe80:aaaa:e4bb:75ff:fe6e:f82e:bbbb:cccc ， 128位。8个无符号整数

  * 公网【互联网】/私网【局域网】
    * ABCD类地址
    * 192.168.xx.xx专门给组织内部使用

* 域名：记忆ip问题

  * IP ,如 www.vip.com

  ```python
  >>> import socket
  >>> print(socket.gethostbyname(socket.gethostname()))
  '192.168.157.1'
  ```

#### 1.4 端口

端口表示计算机上的一个程序的进程

* 不同的进程有不同的端口号！ 用来区分软件！

* 被规定0~65535

* TCP,UDP每个协议都有65535个，所以使用TCP的80端口时，UDP的80端口不受影响

* 端口分类

  * 公有端口 0~1023

    * HTTP: 80
    * HTTPS: 443
    * FTP: 21
    * Talent： 23

  * 程序注册端口：1024~49151，分配用户或者程序

    * Tomcat ： 8080
    * MySQL:    3306
    * Oracle：   1521

  * 动态、私有： 49152~65535

    ```
    netstat -ano # 查看所有的端口
    netstat -ano|findstr"5900"
    ```


#### 1.5  通信协议

协议：protocol 

**网络通信协议**：速率、传输码率、代码结构、传输控制

**TCP UDP** 对比：

* TCP相当于打电话：
  * 连接稳定

  * ==三次握手四次挥手==

    ```shell
    # 最少需要三次，保证稳定连接
    A:你愁啥？
    B:瞅你咋滴？
    A:干一场！
    
    # 四次挥手
    A: 我要走了
    B: 你真的要走了吗？
    B: 你真的真的要走了吗？
    A: 我真的真的要走了
    ```

  * 传输完成、释放连接

* UDP相当于发短信

  * 不连接、不稳定

#### 1.6 TCP

​	网络编程的时候需要写两个部分：

* ​	客户端
  1. 连接服务器Socket
  2. 发送消息
* ​    服务端
  1. 建立服务端口的SeverSocket
  2. 等待用户的链接accept
  3. 接收用户的消息

**文件上传**

此处请使用python socket实现

#### 1.7 UDP

#### 1.8 URL下载网络资源

